# Gateway Service Configuration
spring.application.name=gateway-service
server.port=${SERVER_PORT}

# JWT Secret (auth-service ile aynÄ±)
security.jwt.secret-key=${JWT_SECRET}

# Logging
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.reactor.netty.http.client=DEBUG

# Gateway Routes
# Auth Service
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=http://${AUTH_SERVICE_HOST}:${AUTH_SERVICE_PORT}
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/**

# Listing Service
spring.cloud.gateway.routes[1].id=listing-service
spring.cloud.gateway.routes[1].uri=http://${LISTING_SERVICE_HOST}:${LISTING_SERVICE_PORT}
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/v1/listings/**,/api/v1/meta/**

# Request Service
spring.cloud.gateway.routes[2].id=request-service
spring.cloud.gateway.routes[2].uri=http://${REQUEST_SERVICE_HOST}:${REQUEST_SERVICE_PORT}
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/v1/requests/**,/api/v1/messages/**

# CORS Configuration
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=${CORS_ALLOWED_ORIGINS}
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].max-age=3600

